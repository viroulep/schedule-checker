(this["webpackJsonpschedule-checker"]=this["webpackJsonpschedule-checker"]||[]).push([[0],{323:function(e,t,a){e.exports=a(581)},328:function(e,t,a){},334:function(e,t){},336:function(e,t){},368:function(e,t){},369:function(e,t){},417:function(e,t,a){},526:function(e,t,a){},579:function(e,t,a){},581:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(63),c=a.n(o),l=(a(328),a(182)),i=a.n(l),u=a(288),s=a(17),m=a(597),f=a(582),d=a(64),p=a(591),b=a(21),g=a(36),E=(a(417),a(598)),h=a(595),v=a(596),j=a(4),O=a.n(j),k=function(e){return{className:O()("item",{active:e})}},S=function(e){var t=e.isPartiallyCurrent;return k(t)},w=function(e){var t=e.isCurrent;return k(t)},C=function(e){return"".concat("/schedule-checker").concat(e)},y=a(30),x=a.n(y),M=function(e,t){return{result:Math.floor(e/t),remainder:e%t}},_=function(e){var t=M(e,3600),a=t.result,n=t.remainder,r=a,o=M(n,60);return a=o.result,n=o.remainder,[r>0?"".concat(r," hours"):"",a>0?"".concat(a," minutes"):"","".concat(n," seconds")].join(" ")},I=function(e,t,a){return t(parseInt(e.target.value,10)||a)},P=function(e){if(!e)return{};var t=x()("config")||{},a=t.setup||Object(b.b)(e.getSetupProps()),n=t.model||Object(b.b)(e.getModelProps()),r=t.scrambling||Object(b.b)(e.getScramblingProps()),o=e.loadConfig(Object(b.a)(e.MapStringInt,a),Object(b.a)(e.MapStringInt,n),Object(b.a)(e.MapStringInt,r));return o!==e.ErrorKind.SUCCESS?(console.error("Could not load local config: ".concat(e.errorMessage(o))),{mapSetup:Object(b.b)(e.getSetupProps()),mapModel:Object(b.b)(e.getModelProps()),mapScrambling:Object(b.b)(e.getScramblingProps())}):{mapSetup:a,mapModel:n,mapScrambling:r}},T=function(){x()("config",{}),document.location.reload()},A=a(133),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat("http://localhost:1234").concat(e)},B=function(e){return F("/api/v0".concat(e))},N=function(){return x()("token")||""},R=function(){x()("token","")},q=function(){var e=new URLSearchParams(window.location.search);e.has("staging"),e.has("prod")&&(R(),x()("staging",!1),document.location.reload())},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,Object(A.a)({},t,{headers:new Headers({Authorization:"Bearer ".concat(N()),"Content-Type":"application/json"})})).then((function(e){if(!e.ok)throw new Error(e.statusText);return e})).then((function(e){return e.json()}))},U=function(){return G(B("/me"))},V=function(){var e,t=window.location.origin,a=new URLSearchParams({client_id:"example-application-id",response_type:"token",redirect_uri:"".concat(t).concat("/schedule-checker"),scope:"public manage_competitions"});window.location=(e=a.toString(),F("/oauth/authorize?".concat(e)))},H=function(e){var t=e.user,a=e.userLoading,n=e.signOut;return r.a.createElement(E.a,{pointing:!0,secondary:!0},r.a.createElement(g.a,{to:C("/"),getProps:w},"Home"),r.a.createElement(g.a,{to:C("/settings"),getProps:S},"Settings"),r.a.createElement(g.a,{to:C("/quick-simu"),getProps:S},"Quick simulation"),a&&r.a.createElement(h.a,{className:"right"},r.a.createElement(d.a,{loading:!0,name:"spinner"})),t&&r.a.createElement(v.a,{item:!0,text:t.name,className:"right",simple:!0},r.a.createElement(v.a.Menu,null,r.a.createElement(v.a.Item,{onClick:n},"Sign out"),r.a.createElement(v.a.Item,{onClick:T},"Clear locally stored data"))),!t&&!a&&r.a.createElement("a",{href:"#",className:"item right",onClick:V},"Sign in with the WCA"))},L=a(592),W=a(599),z=a(600),J=a(601),K=a(134),Q=a.n(K),Y=(a(526),function(e){var t=e.saveAction,a=e.hasChanges;return r.a.createElement(v.a,{item:!0,icon:"cogs",className:"right"},r.a.createElement(v.a.Menu,null,r.a.createElement(v.a.Item,{onClick:t,disabled:!a},"Save settings"),r.a.createElement(v.a.Item,{onClick:T},"Reset settings to default")))}),D=function(e){var t=e.props,a=e.setProps;return r.a.createElement(L.a,{className:"settings-form"},r.a.createElement(W.a,{doubling:!0,textAlign:"right",columns:3},Object.entries(t).map((function(e){var n=Object(s.a)(e,2),o=n[0],c=n[1];return r.a.createElement(W.a.Column,{key:o},r.a.createElement(L.a.Input,{inline:!0,min:0,type:"number",label:o,value:c,onChange:function(e){return function(e,n){var r=Object(A.a)({},t);r[e]=parseInt(n,10)||0,a(r)}(o,e.target.value)}}))}))))},$=function(e){var t=e.simulator,a=Object(n.useState)({}),o=Object(s.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)({}),u=Object(s.a)(i,2),f=u[0],d=u[1],p=Object(n.useState)({}),h=Object(s.a)(p,2),v=h[0],j=h[1],O=Object(n.useState)({}),k=Object(s.a)(O,2),C=k[0],y=k[1];Object(n.useEffect)((function(){var e=P(t),a=e.mapSetup,n=e.mapModel,r=e.mapScrambling;l(a),d(n),j(r),y({setup:a,model:n,scrambling:r})}),[t]);var M=!Q.a.isEqual(C.setup,c),_=!Q.a.isEqual(C.model,f),I=!Q.a.isEqual(C.scrambling,v),T=M||_||I;return r.a.createElement("div",null,r.a.createElement(z.a,null,"Simulator settings"),r.a.createElement(m.a,{color:"violet"},"All values are unsigned integers.",r.a.createElement("br",null),"All times are expressed in seconds."),r.a.createElement(E.a,{attached:"top",pointing:!0,color:"violet"},r.a.createElement(g.a,{to:"",getProps:w},"Setup"," ",M?"*":""),r.a.createElement(g.a,{to:"model",getProps:S},"Model parameters"," ",_?"*":""),r.a.createElement(g.a,{to:"scrambling",getProps:S},"Scrambling costs"," ",I?"*":""),r.a.createElement(Y,{saveAction:function(){var e,a={setup:c,model:f,scrambling:v};t.loadConfig(Object(b.a)(t.MapStringInt,c),Object(b.a)(t.MapStringInt,f),Object(b.a)(t.MapStringInt,v)),y(a),e=a,x()("config",e)},hasChanges:T})),r.a.createElement(J.a,{attached:"bottom"},r.a.createElement(g.b,null,r.a.createElement(D,{path:"/",default:!0,simulator:t,props:c,setProps:l}),r.a.createElement(D,{path:"/model",simulator:t,props:f,setProps:d}),r.a.createElement(D,{path:"/scrambling",simulator:t,props:v,setProps:j}))))},X=a(185),Z=a(593),ee=function(e){var t=e.times,a=e.setTimes,o=e.OpenButton,c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=l[0],u=l[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),p=d[0],b=d[1],g=Object(n.useState)(10),E=Object(s.a)(g,2),h=E[0],v=E[1],j=Object(n.useState)(15),O=Object(s.a)(j,2),k=O[0],S=O[1],w=Object(n.useState)(20),C=Object(s.a)(w,2),y=C[0],x=C[1],M=function(){return u(!0)},_=function(){return u(!1)},P=h>k?{content:"Max must be greater than min"}:null;return Object(n.useEffect)((function(){return b(t)}),[t]),r.a.createElement(r.a.Fragment,null,o?r.a.createElement(o,{onClick:M}):r.a.createElement(f.a,{primary:!0,onClick:M},"Generate group"),r.a.createElement(Z.a,{open:i,centered:!1,onClose:_},r.a.createElement(Z.a.Header,null,"Generate competitors for group"),r.a.createElement(Z.a.Content,null,r.a.createElement("p",null,"Use this form to generate a random population for the group. Each number represents the average time of one competitor, therefore if you want 20 competitors in the group you need to generate 20 numbers."),r.a.createElement("p",null,"There are"," ",p.length," ","competitors in the group currently:",r.a.createElement("br",null),r.a.createElement("code",null,p.join(", ")),r.a.createElement("br",null),"The form below let you add some randomly generated number within"," ",r.a.createElement("em",null,"min")," ","and"," ",r.a.createElement("em",null,"max"),"."),r.a.createElement(L.a,null,r.a.createElement(L.a.Input,{inline:!0,min:1,type:"number",label:"Min",value:h,onChange:function(e){return I(e,v,h)}}),r.a.createElement(L.a.Input,{inline:!0,min:1,type:"number",label:"Max",value:k,error:P,onChange:function(e){return I(e,S,k)}}),r.a.createElement(L.a.Input,{inline:!0,min:1,type:"number",label:"Amount",value:y,onChange:function(e){return I(e,x,y)}}),r.a.createElement(f.a,{color:"violet",disabled:!!P,content:"Generate and append",onClick:function(){return b([].concat(Object(X.a)(p),Object(X.a)(function(e,t,a){return Array.from(Array(a)).map((function(){return Math.floor(Math.random()*(t-e+1))+e}))}(h,k,y))))}}),r.a.createElement(f.a,{basic:!0,negative:!0,content:"Clear times",onClick:function(){return b([])}}))),r.a.createElement(Z.a.Actions,null,r.a.createElement(f.a.Group,null,r.a.createElement(f.a,{positive:!0,onClick:function(){a(p),_()},content:"Save"}),r.a.createElement(f.a.Or,null),r.a.createElement(f.a,{color:"black",onClick:_,content:"Discard"})))))},te=function(e){var t=e.times,a=e.setTimes,o=Object(n.useState)(!1),c=Object(s.a)(o,2),l=c[0],i=c[1];return r.a.createElement("div",{className:"times-details"},r.a.createElement(ee,{times:t,setTimes:a,OpenButton:function(e){var t=e.onClick;return r.a.createElement(f.a,{color:"violet",content:"Set group times",onClick:t,compact:!0})}}),r.a.createElement(f.a,{onClick:function(){return i(!l)},compact:!0},l?r.a.createElement(r.a.Fragment,null,"Hide details."):r.a.createElement(r.a.Fragment,null,"Show average times.")),l&&r.a.createElement(J.a,null,r.a.createElement("code",null,t.join(", "))))},ae=a(590),ne=a(75),re=function(e){var t=e.val,a=e.setVal,n=e.options,o=Object(ne.a)(e,["val","setVal","options"]);return r.a.createElement(v.a,Object.assign({},o,{value:t,onChange:function(e,t){var n=t.value;return a(n)},options:n}))},oe=[{id:"333",name:"3x3x3 Cube",preferred_format:"a",rank:10},{id:"222",name:"2x2x2 Cube",preferred_format:"a",rank:20},{id:"444",name:"4x4x4 Cube",preferred_format:"a",rank:30},{id:"555",name:"5x5x5 Cube",preferred_format:"a",rank:40},{id:"666",name:"6x6x6 Cube",preferred_format:"m",rank:50},{id:"777",name:"7x7x7 Cube",preferred_format:"m",rank:60},{id:"333bf",name:"3x3x3 Blindfolded",preferred_format:"3",rank:70},{id:"333fm",name:"3x3x3 Fewest Moves",preferred_format:"m",rank:80},{id:"333oh",name:"3x3x3 One-Handed",preferred_format:"a",rank:90},{id:"clock",name:"Clock",preferred_format:"a",rank:110},{id:"minx",name:"Megaminx",preferred_format:"a",rank:120},{id:"pyram",name:"Pyraminx",preferred_format:"a",rank:130},{id:"skewb",name:"Skewb",preferred_format:"a",rank:140},{id:"sq1",name:"Square-1",preferred_format:"a",rank:150},{id:"444bf",name:"4x4x4 Blindfolded",preferred_format:"3",rank:160},{id:"555bf",name:"5x5x5 Blindfolded",preferred_format:"3",rank:170},{id:"333mbf",name:"3x3x3 Multi-Blind",preferred_format:"3",rank:180},{id:"333ft",name:"3x3x3 With Feet",preferred_format:"a",rank:996},{id:"magic",name:"Magic",preferred_format:"a",rank:997},{id:"mmagic",name:"Master Magic",preferred_format:"a",rank:998},{id:"333mbo",name:"3x3x3 Multi-Blind Old Style",preferred_format:"3",rank:999}],ce={};oe.forEach((function(e){ce[e.id]=e}));var le={official:oe.filter((function(e){return e.rank<900})),forSimulation:oe.filter((function(e){return e.rank<900&&!["333fm","333mbf"].includes(e.id)})),byId:ce}.forSimulation.map((function(e){return{text:e.name,key:e.id,value:e.id}})),ie=function(e){var t=e.event,a=e.setEvent,n=Object(ne.a)(e,["event","setEvent"]);return r.a.createElement(re,Object.assign({},n,{val:t,setVal:a,options:le}))},ue=["Runners","JudgesRun"],se=ue[0],me=ue.map((function(e){return{text:e,key:e,value:e}})),fe=function(e){var t=e.model,a=e.setModel,n=Object(ne.a)(e,["model","setModel"]);return r.a.createElement(re,Object.assign({},n,{val:t,setVal:a,options:me}))},de=function(e){var t=e.simulator,a=e.times,o=Object(n.useState)("333"),c=Object(s.a)(o,2),l=c[0],i=c[1],u=Object(n.useState)(se),m=Object(s.a)(u,2),d=m[0],p=m[1],g=Object(n.useState)(""),E=Object(s.a)(g,2),h=E[0],v=E[1],j=Object(n.useState)(10),O=Object(s.a)(j,2),k=O[0],S=O[1],w=Object(n.useState)(14),C=Object(s.a)(w,2),y=C[0],x=C[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null,"Quick staff optimizer"),r.a.createElement("div",{className:"opt-content"},r.a.createElement("div",{className:"inputs"},r.a.createElement(ae.a,{min:3,type:"number",label:"Total staff",value:y,onChange:function(e){return I(e,x,y)}}),r.a.createElement(ae.a,{min:1,type:"number",label:"Stations",value:k,onChange:function(e){return I(e,S,k)}})),r.a.createElement("p",null,"Given I have"," ",y," ","staff and at most"," ",k," ","stations available, I want to get the shortest time for this group."),r.a.createElement("div",null,"This group is for"," ",r.a.createElement(ie,{event:l,setEvent:i,inline:!0,scrolling:!0})," ","and my staff will be using the"," ",r.a.createElement(fe,{model:d,setModel:p,inline:!0})," ","system throughout the group.")),r.a.createElement(f.a,{primary:!0,className:"run-simu",content:"Run it!",onClick:function(){var e=Object(b.c)(t.VectorTime,a),n=new t.MapStringInt,r=t.optimizeStaff(l,e,k,y,n,d),o=r.Err,c=r.BestResult,i=r.Judges,u=r.Runners,s=r.Scramblers;if(o!==t.ErrorKind.SUCCESS)v("An error occurred during the simulation: ".concat(t.errorMessage(o)));else{var m="The best group took ".concat(_(c),","),f="using ".concat(i," judges, ").concat(s," scramblers, and ").concat(u," runners. ");v("".concat(m," ").concat(f))}}}),r.a.createElement("p",null,h))},pe=function(e){var t=e.simulator,a=e.times,o=Object(n.useState)("333"),c=Object(s.a)(o,2),l=c[0],i=c[1],u=Object(n.useState)(se),d=Object(s.a)(u,2),p=d[0],g=d[1],E=Object(n.useState)(""),h=Object(s.a)(E,2),v=h[0],j=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null,"Quick group simulation"),r.a.createElement(m.a,{compact:!0,color:"brown"},"You can adjust the number of judges/scramblers/runners, as well as the miscramble or extra rate in the settings."),r.a.createElement("div",null,"I want to simulate this group for"," ",r.a.createElement(ie,{event:l,setEvent:i,inline:!0,scrolling:!0})," ","and my staff will be using the"," ",r.a.createElement(fe,{model:p,setModel:g,inline:!0})," ","system throughout the group."),r.a.createElement(f.a,{primary:!0,className:"run-simu",content:"Run it!",onClick:function(){var e=Object(b.c)(t.VectorTime,a),n=new t.MapStringInt,r=t.simuGroup(l,e,n,p),o=r.Err,c=r.Value;o!==t.ErrorKind.SUCCESS?j("An error occurred during the simulation: ".concat(t.errorMessage(o))):j("The group took ".concat(_(c),"."))}}),r.a.createElement("p",null,v))},be=(a(579),[]),ge=function(e){var t=e.simulator,a=Object(n.useState)(be),o=Object(s.a)(a,2),c=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null,"Group setup"),r.a.createElement("div",null,"There are currently"," ",c.length," ","competitors in the group.",r.a.createElement(te,{times:c,setTimes:function(e){be=e,l(e)}})),r.a.createElement(pe,{simulator:t,times:c}),r.a.createElement(de,{simulator:t,times:c}))},Ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a.Header,null,"Loading required content"),"Please wait while the page is loading a required module.")},he=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"The loading of the module timed out. It&pos;s likely that there was an error and that your browser does not support WebAssembly."),r.a.createElement("p",null,"This module is necessary for this application, it is pointless to show you anything more than this error message at this point.",r.a.createElement("br",null),"Feel free to check this website to make sure your browser is supported."),r.a.createElement(f.a,{href:"https://caniuse.com/#feat=wasm",target:"_blank",secondary:!0},"Check browser compatibility"))},ve=function(e){var t=e.simulator,a=e.loading;return r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(m.a,{icon:!0,color:a?"teal":"red"},a&&r.a.createElement(d.a,{name:"circle notched",loading:!0}),r.a.createElement(m.a.Content,null,a?r.a.createElement(Ee,null):r.a.createElement(he,null))))},je=function(){return r.a.createElement("div",null,"This page is a work in progress and most likely won't do what you expect.",r.a.createElement("br",null),"You should not use it.",r.a.createElement("br",null),"Come back later.")},Oe=function(){return r.a.createElement("p",null,"Oups, it's a 404")},ke=function(){var e,t=window.location.hash.replace(/^#/,""),a=new URLSearchParams(t);a.has("access_token")&&(window.location.hash="",e=a.get("access_token"),x()("token",e))};var Se=function(){var e=Object(n.useState)(void 0),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),l=Object(s.a)(c,2),f=l[0],d=l[1],E=Object(n.useState)(!1),h=Object(s.a)(E,2),v=h[0],j=h[1],O=Object(n.useState)(null),k=Object(s.a)(O,2),S=k[0],w=k[1],C=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(b.d)((function(){o(t),d(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){C(),q(),ke(),function(e,t){0!==N().length&&(t(!0),U().then((function(t){e(t.me)})).catch((function(){x()("token","")})).finally((function(){return t(!1)})))}(w,j),setTimeout((function(){return d(!1)}),3e3)}),[]),Object(n.useEffect)((function(){P(a)}),[a]),r.a.createElement(p.a,null,r.a.createElement(ve,{simulator:a,loading:f}),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{user:S,userLoading:v,signOut:function(){R(),w(null)}}),r.a.createElement(m.a,{size:"small"},"You're not currently using the WCA's production data."),r.a.createElement(g.b,{basepath:"/schedule-checker"},r.a.createElement(je,{path:"/"}),r.a.createElement($,{simulator:a,path:"settings/*"}),r.a.createElement(ge,{simulator:a,path:"/quick-simu"}),r.a.createElement(Oe,{default:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(580);c.a.render(r.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[323,1,2]]]);
//# sourceMappingURL=main.89de62f0.chunk.js.map